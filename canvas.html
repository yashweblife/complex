<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="./src/styles/prism.css" rel="stylesheet" />
    <title>Complex | Canvas</title>
  </head>
  <body>
    <header>
      <h2>Complex | Canvas</h2>
      <nav>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/about">About</a></li>
          <li><a href="/contact">Contact</a></li>
        </ul>
      </nav>
    </header>
    <section class="hero">
      <p>
        Canvas is one of the most amazing tools HTML offers. It's a place where
        you can paint custom graphics
      </p>
      <h4>Create it Programmatically</h4>
      <pre>
            <code class="language-javascript">
                const canvas = document.createElement('canvas');
                document.body.appendChild(canvas);
            </code>
        </pre>
      <h4>Fetch it from the DOM</h4>
      <br />HTML<br />
      <p>Place a canvas tag in your HTML file</p>
      <pre>
            <code class="language-html">
                &lt;canvas&gt;&lt;/canvas&gt;
            </code>
        </pre>
      <br />Javascript<br />
      <p>Fetch the canvas from the DOM</p>
      <pre>
            <code class="language-javascript">
                const canvas = document.querySelector('canvas');
            </code>
        </pre>
      <h4>Time to Draw</h4>
      <p>
        The HTML Canvas <b>allows</b> us to use either
        <b>2d context or 3d context</b> via <b>webgl</b>. Meaning, You can draw
        standard 2D shapes with the 2D context selected or curate a 3D world
        with WebGL.
      </p>
      <h4>Getting Context</h4>
      <pre>
            <code class="language-javascript">
                const canvas = document.querySelector('canvas');
                const c = canvas.getContext('2d');
            </code>
      </pre>
      <p>We can use <b>c</b> to draw stuff, so lets draw stuff...</p>
      <h4>Circle</h4>
      <canvas id="canvas-1" style="background-color: white;"></canvas>
        <pre>
            <code class="language-javascript">
                const canvas = document.querySelector('canvas');
                const c = canvas.getContext('2d');
                c.beginPath();
                c.arc(100, 100, 30, 0, Math.PI * 2, false);
                c.fill();
            </code>
        </pre>
        <br>
        Explaination
        <br>
        <p>
            <blockquote>beginPath()</blockquote> is used to start a new path. It's like putting the pen on the paper.
            <br>
            <pre>
                <code class="language-javascript">
                    arc(x_position, y_position, radius, start_angle, end_angle, clockwise_anticlockwise)
                </code>
            </pre>
            <br>
            <blockquote>fill()</blockquote> is used to fill the path with color.
        </p>
        <p>Just this simple thing can translate into some awesome graphics</p>
        <canvas id="canvas-2"></canvas>
        <h3>Important methods</h3>
        <p>
          There are some important methods that are needed to really start having fun with the canvas.
          <ul>
            <li>
              <blockquote>beginPath()</blockquote> Puts the pen on the canvas
            </li>
            <li>
              <blockquote>closePath()</blockquote> Closes the path
            </li>
            <li>
              <blockquote>arc()</blockquote> Draws an arc
            </li>
            <li>
              <blockquote>rect()</blockquote> Draws a rectangle
            </li>
            <li>
              <blockquote>moveTo() lineTO()</blockquote> Moves the pen to a position and draws a line to a position
            </li>
            <li>
              <blockquote>clearRect()</blockquote> Clears a rectangle
            </li>
            <li>
              <blockquote>stroke()</blockquote> Strokes the path
            </li>
            <li>
              <blockquote>strokeStyle</blockquote> Sets the color of the stroke
            </li>
            <li>
              <blockquote>fill()</blockquote> Fills the path
            </li>
            <li>
              <blockquote>fillStyle</blockquote> Sets the color of the fill
            </li>
          </ul>
        </p>
        <br>
        <br>
        <h2>Learning by Example</h2>
        <div class="dashboard">
          <div class="header">
            <div class="tab selected" id="dashboard-header-tab1">
              Falling Balls
            </div>
            <div class="tab" id="dashboard-header-tab2">
              Brownian Motion
            </div>
            <div class="tab" id="dashboard-header-tab3">
              Attraction
            </div>
          </div>
          <div class="content">
            <div class="preview">
              <div id="dashboard-preview-tab1" class=""><canvas id="canvas-3"></canvas></div>
              <div id="dashboard-preview-tab2" class="dis-off"><canvas id="canvas-4"></canvas></div>
              <div id="dashboard-preview-tab3" class="dis-off"><canvas id="canvas-5"></canvas></div>
            </div>
            <div class="controls">
              <div id="dashboard-controls-tab1">
                <pre><code class="language-javascript">
                  //Get Canvas from DOM
                  const canvas = document.querySelector('#canvas-3') as HTMLCanvasElement;
                  const c = canvas.getContext('2d') as CanvasRenderingContext2D;
                  canvas.height = canvas.width
                  const {width, height} = canvas;
                  //Create a ball object
                  const ball = {
                      pos:{
                          x:width/2,
                          y:height/2
                      },
                      vel:{
                          x:0,
                          y:0
                      },
                      acc:{
                          x:0,
                          y:0
                      },
                      radius:10,
                      color:'red',
                  }
                  const gravity = 0.5;
                  //Create an animation loop
                  function animate(){
                      //Clear the canvas
                      c.clearRect(0, 0, width, height);
                      //Update the ball's position
                      ball.vel.x += ball.acc.x;
                      ball.vel.y += ball.acc.y;
                      ball.pos.x += ball.vel.x;
                      ball.pos.y += ball.vel.y;
              
                      //Apply gravity as an acceleration
                      ball.acc.y = gravity;
              
                      //Draw the ball
                      c.arc(ball.pos.x, ball.pos.y, ball.radius, 0, Math.PI * 2, false);
                      c.fillStyle = ball.color;
                      c.fill();
              
                      //Request the next frame
                      requestAnimationFrame(animate);
                  }
                  animate();
              
                </code></pre>
              </div>
              <div id="dashboard-controls-tab2" class="dis-off">
                <pre><code class="language-javascript">
                  const canvas = document.querySelector('canvas');
                  const c = canvas.getContext('2d');
                  const colors = ['#2185C5', '#7ECEFD', '#FFF6E5', '#FF7F66'];

                </code></pre>
              </div>
              <div id="dashboard-controls-tab3" class="dis-off">
                <pre><code class="language-javascript">
                  const canvas = document.querySelector('canvas');
                  const c = canvas.getContext('2d');
                  const colors = ['#2185C5', '#7ECEFD', '#FFF6E5', '#FF7F66'];
                  const balls = [];
                </code></pre>
              </div>
            </div>          
          </div>
        </div>
    </section>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>

    <script src="./src/pages/canvas.ts" type="module"></script>
  </body>
</html>
